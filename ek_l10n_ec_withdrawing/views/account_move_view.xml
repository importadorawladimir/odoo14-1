<?xml version="1.0" encoding="utf-8"?>
<odoo>


    <record id="view_move_withdrawing_form" model="ir.ui.view">
        <field name="name">account.move.form</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">

            <xpath expr="//field[@name='payment_reference']" position="before">
                 <field name="retention_id" attrs="{'invisible': [('retention_id', '=', False)], 'readonly': 1}"/>
            </xpath>
        </field>
    </record>

    <record id="view_move_sustento_id" model="ir.ui.view">
        <field name="name">account.move.form</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">

            <xpath expr="//field[@name='ref']" position="before">
                 <field name="l10n_latam_document_sustento_id" attrs="{'invisible': [('move_type', '!=','out_refund')]}" domain="[('move_type', '=','out_invoice'),('state','=','posted')]"/>
            </xpath>
        </field>
    </record>

    <record id="view_move_form_auth" model="ir.ui.view">
        <field name="name">account.move.form.auth</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="l10n_latam_invoice_document.view_move_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='l10n_latam_document_number']" position="after">
                <field name="l10n_latam_document_sustento"
                       attrs="{'invisible': ['|', ('l10n_latam_use_documents', '=', False), ('l10n_latam_manual_document_number', '=', False), '|', '|', ('l10n_latam_use_documents', '=', False), ('highest_name', '!=', False), ('state', '!=', 'draft')],'readonly': [('posted_before', '=', True)]}" domain="['|',('account_ats_doc_ids','in',l10n_latam_document_type_id),('account_ats_doc_ids','=',[])]"/>
                <field name="l10n_latam_document_auth"
                    attrs="{'invisible': ['|', ('l10n_latam_use_documents', '=', False), ('l10n_latam_manual_document_number', '=', False), '|', '|', ('l10n_latam_use_documents', '=', False), ('highest_name', '!=', False), ('state', '!=', 'draft')],'readonly': [('posted_before', '=', True)]}"/>

            </xpath>

        </field>
    </record>

    <!-- Inherit Form View to Modify it -->
    <record id="account_tax_compound_form" model="ir.ui.view">
        <field name="name">account.tax.compound.form</field>
        <field name="model">account.tax</field>
        <field name="inherit_id" ref="account.view_tax_form"/>
        <field name="arch" type="xml">

            <xpath expr="//field[@name='amount_type']" position="after">
                <field name="l10n_ec_type" invisible="1"/>
                <field name="compound_tax" options="{'no_create': True}" attrs="{'invisible': [('l10n_ec_type','!=','withhold_vat')]}" domain="[('type_tax_use','=',type_tax_use)]"/>
            </xpath>

        </field>
    </record>

    
</odoo>
