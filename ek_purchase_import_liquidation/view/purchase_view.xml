<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>
        <!-- Inherit Form View to Modify it -->
        <record id="purchase_order_import_form" model="ir.ui.view">
            <field name="name">purchase.order.import.form</field>
            <field name="model">purchase.order</field>
            <field name="inherit_id" ref="purchase.purchase_order_form"/>
            <field name="arch" type="xml">

                <xpath expr="//field[@name='picking_type_id']" position="before">
                    <!-- Add your fields or attributes here -->
                    <field name="is_import" groups="ek_purchase_import_liquidation.group_user_import_orders"/>

                </xpath>

                 <xpath expr="//button[@name='action_create_invoice'][last()]" position="attributes">
                     <attribute name="attrs">{'invisible': ['|', '|', '|',  ('is_import', '=', True),('state', 'not in', ('purchase', 'done')), ('invoice_status', 'not in', ('no', 'invoiced')), ('order_line', '=', [])]}</attribute>

                 </xpath>


                <xpath expr="//field[@name='product_qty']" position="after">
                    <field name="ctdad_imported" optional="hide" groups="ek_purchase_import_liquidation.group_user_import_orders"/>
                    <field name="ctdad_pending"  optional="hide" groups="ek_purchase_import_liquidation.group_user_import_orders"/>
                    <field name="weight"  optional="hide"/>
                    <field name="total_weight"  optional="hide"/>
                    <field name="is_import" invisible="1"/>
                </xpath>


            </field>
        </record>
    </data>
</openerp>
